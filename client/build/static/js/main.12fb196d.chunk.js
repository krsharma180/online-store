(this["webpackJsonpe-commerce-manager-ui"]=this["webpackJsonpe-commerce-manager-ui"]||[]).push([[0],{178:function(e,t,a){},260:function(e,t,a){e.exports=a(456)},265:function(e,t,a){},266:function(e,t,a){e.exports=a.p+"static/media/logo.5d5d9eef.svg"},267:function(e,t,a){},456:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),o=a(26),l=a.n(o);a(265),a(266),a(267),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var c=a(39),s=a(40),i=a(42),u=a(41),d=a(475),m=a(464),p=a(474),g=a(138),h=a(57),y=a(484),f=a(487),E=(a(178),a(268),a(58)),P=a.n(E),b=a(48),C=a(459),v=a(82),S=a(471),I=a(84),k=a(481),A=a(482),D=a(485),O=a(486),w=(C.a.Header,C.a.Footer,C.a.Sider),j=(C.a.Content,v.a.SubMenu),N=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(e){var r;return Object(c.a)(this,a),(r=t.call(this,e)).onCollapse=function(e){console.log(e),r.setState({collapsed:e})},r.state={collapsed:!1},r}return Object(s.a)(a,[{key:"render",value:function(){var e=this.state.referrer;return e?n.a.createElement("div",null,n.a.createElement(b.a,{to:e})):n.a.createElement("div",null,n.a.createElement(w,{collapsed:this.state.collapsed,onCollapse:this.onCollapse,style:{overflow:"auto",height:"100vh",position:"fixed",left:0},className:"scrollbar style-4 wrapper"},n.a.createElement("div",{className:"logo"},n.a.createElement("h2",null,"  E - STORE")),n.a.createElement(v.a,{theme:"dark",defaultSelectedKeys:["1"],mode:"inline"},n.a.createElement(v.a.Item,{key:"1",defaultChecked:!0,icon:n.a.createElement(k.a,null)},n.a.createElement(I.b,{to:{pathname:"/DashBoardAdmin/"}},"Dashboard")),n.a.createElement(j,{key:"master",icon:n.a.createElement(A.a,null),title:"Master Data"},n.a.createElement(v.a.Item,{key:"11"},n.a.createElement(I.b,{to:{pathname:"/Category/"}},"Categories"),n.a.createElement(S.a,{style:{marginLeft:"10px"},count:9})),n.a.createElement(v.a.Item,{key:"12"},n.a.createElement(I.b,{to:{pathname:"/Products/"}},"Products"),n.a.createElement(S.a,{style:{marginLeft:"10px"},count:6})),n.a.createElement(v.a.Item,{key:"13"},n.a.createElement(I.b,{to:{pathname:"/Seller/"}},"Vendors"))),n.a.createElement(j,{key:"sub1",icon:n.a.createElement(y.a,null),title:"User"},n.a.createElement(v.a.Item,{key:"3"},"Tom"),n.a.createElement(v.a.Item,{key:"4"},"Bill"),n.a.createElement(v.a.Item,{key:"5"},"Alex")),n.a.createElement(j,{key:"sub2",icon:n.a.createElement(D.a,null),title:"Team"},n.a.createElement(v.a.Item,{key:"6"},"Team 1"),n.a.createElement(v.a.Item,{key:"8"},"Team 2")),n.a.createElement(v.a.Item,{key:"2",icon:n.a.createElement(O.a,null)},"Vendors"))),n.a.createElement(C.a,{className:"site-layout",style:{marginLeft:200}}))}}]),a}(n.a.Component),L="http://localhost:4000/api",F=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(e){var r;return Object(c.a)(this,a),(r=t.call(this,e)).onFinish=function(e){P.a.post(L+"/auth",{email:e.email,password:e.password}).then((function(e){localStorage.setItem("authToken",e.data.token),localStorage.setItem("email",e.data.user.email),localStorage.setItem("role",e.data.user.role),1==localStorage.getItem("role")?r.setState({referrer:"/AdminHome/"}):2==localStorage.getItem("role")?r.setState({referrer:"/VendorHome/"}):console.log("Could not identify")})).catch((function(e){return console.log(e)}))},r.state={navigate:!1,referrer:null},r}return Object(s.a)(a,[{key:"componentDidMount",value:function(){localStorage.getItem("authToken")&&(1==localStorage.getItem("role")?this.setState({referrer:"/AdminHome/"}):2==localStorage.getItem("role")?this.setState({referrer:"/VendorHome/"}):console.log("Could not identify"))}},{key:"render",value:function(){var e=this.state.referrer;return e?n.a.createElement("div",null,n.a.createElement(b.a,{to:e})):n.a.createElement("div",{className:"LoginCard"},n.a.createElement(d.a,{className:"innerCard"},n.a.createElement("h2",null,"Login"),n.a.createElement("hr",null),n.a.createElement("br",null),n.a.createElement(m.a,{name:"normal_login",className:"login-form",initialValues:{remember:!0},onFinish:this.onFinish},n.a.createElement(m.a.Item,{name:"email",rules:[{required:!0,message:"Please input your E-Mail!"}]},n.a.createElement(p.a,{prefix:n.a.createElement(y.a,{className:"site-form-item-icon"}),placeholder:"E-Mail"})),n.a.createElement(m.a.Item,{name:"password",rules:[{required:!0,message:"Please input your Password!"}]},n.a.createElement(p.a,{prefix:n.a.createElement(f.a,{className:"site-form-item-icon"}),type:"password",placeholder:"Password"})),n.a.createElement(m.a.Item,null,n.a.createElement(m.a.Item,{name:"remember",valuePropName:"checked",noStyle:!0},n.a.createElement(g.a,null,"Remember me")),n.a.createElement("a",{className:"login-form-forgot",href:""},"Forgot password")),n.a.createElement(m.a.Item,null,n.a.createElement(h.a,{type:"primary",htmlType:"submit",className:"login-form-button"},"Log in")))))}}]),a}(n.a.Component),x=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(e){return Object(c.a)(this,a),t.call(this,e)}return Object(s.a)(a,[{key:"render",value:function(){return n.a.createElement("div",null,n.a.createElement(N,null))}}]),a}(n.a.Component),R=(n.a.Component,a(14)),V=a(467),T=a(193),M=a(462),B=a(483),G=a(476),q=a(171),K=a(465),z=a(472),H=a(479),U=a(478),_=a(477),W=function(){return function(e){e({type:"GetCategoryRequest"}),P.a.get(L+"/customerHome/GetNavbarData").then((function(t){var a=t.data;console.log(t),e({type:"GetCategorySuccess",payload:a})})).catch((function(t){e({type:"GetCategoryFailure",payload:t.message})}))}},Y=function(){return function(e){e({type:"GetPlainCategoryRequest"}),P.a.get(L+"/category/getAllCategories").then((function(t){var a=t.data;console.log(t),e({type:"GetPlainCategorySuccess",payload:a})})).catch((function(t){e({type:"GetPlainCategoryFailure",payload:t.message})}))}},J=a(80),Q=(V.a.Text,V.a.Link,T.a.TabPane);M.a.Column,M.a.ColumnGroup;var $=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(e){var r;return Object(c.a)(this,a),(r=t.call(this,e)).onSelect=function(e,t){console.log("selected",e,t)},r.onCheck=function(e,t){console.log("onCheck",e,t)},r.onFinish=function(e){console.log("Received values of form:",e),void 0===e.categoryType&&(e.categoryType="root");var t=[];e.categories&&(e.categories.map((function(a){var r={label:a.category,title:a.category,parentId:"root"==e.categoryType?0:e.category};t.push(r)})),console.log("OK",t),r.props.insertCategoryData(t,(function(){r.props.getCategoryData(),r.props.getPlainCategoryData()})))},r.onChange=function(e){console.log(e),r.setState({value:e})},r.onCategoryTypeChange=function(e){"root"==e.target.value&&r.setState({isRootCategory:!0}),"child"==e.target.value&&r.setState({isRootCategory:!1})},r.onCell=function(e){console.log("on cell",e)},r.onSelectChange=function(e){console.log("selectedRowKeys changed: ",e),r.setState({selectedRowKeys:e})},r.getColumnSearchProps=function(e){return{filterDropdown:function(t){var a=t.setSelectedKeys,o=t.selectedKeys,l=t.confirm,c=t.clearFilters;return n.a.createElement("div",{style:{padding:8}},n.a.createElement(p.a,{ref:function(e){r.searchInput=e},placeholder:"Search ".concat(e),value:o[0],onChange:function(e){return a(e.target.value?[e.target.value]:[])},onPressEnter:function(){return r.handleSearch(o,l,e)},style:{width:188,marginBottom:8,display:"block"}}),n.a.createElement(B.b,null,n.a.createElement(h.a,{type:"primary",onClick:function(){return r.handleSearch(o,l,e)},icon:n.a.createElement(H.a,null),size:"small",style:{width:90}},"Search"),n.a.createElement(h.a,{onClick:function(){return r.handleReset(c)},size:"small",style:{width:90}},"Reset")))},filterIcon:function(e){return n.a.createElement(H.a,{style:{color:e?"#1890ff":void 0}})},onFilter:function(t,a){return a[e]?a[e].toString().toLowerCase().includes(t.toLowerCase()):""},onFilterDropdownVisibleChange:function(e){e&&setTimeout((function(){return r.searchInput.select()}),100)},render:function(e){return r.state.searchedColumn,e}}},r.handleSearch=function(e,t,a){t(),r.setState({searchText:e[0],searchedColumn:a})},r.handleReset=function(e){e(),r.setState({searchText:""})},r.state={value:void 0,isRootCategory:!0,selectedRowKeys:[],searchText:"",searchedColumn:""},r}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.props.getCategoryData(),this.props.getPlainCategoryData()}},{key:"componentDidUpdate",value:function(){}},{key:"render",value:function(){console.log("Plain data",this.props.plainCategoryData);var e=[Object(R.a)({title:"Name",dataIndex:"title",key:"title",sorter:function(e,t){return e.title.localeCompare(t.title)}},this.getColumnSearchProps("title")),Object(R.a)({title:"Parent",dataIndex:"parentName",key:"parentName",sorter:function(e,t){return e.parentName.localeCompare(t.parentName)}},this.getColumnSearchProps("parentName"))];return n.a.createElement("div",{style:{backgroundColor:""}},n.a.createElement("div",{style:{marginLeft:200,height:""}},n.a.createElement(T.a,{defaultActiveKey:"1",size:"large",style:{marginBottom:32,paddingLeft:15}},n.a.createElement(Q,{tab:"Add Categories",key:"1"},n.a.createElement("div",{style:{textAlign:"left"}},this.props.categoryInserted?n.a.createElement(G.a,{message:this.props.categoryInsertedResult.map((function(e){return n.a.createElement("div",null,"Category ",n.a.createElement("b",null,e.label)," added",n.a.createElement("br",null))})),type:"success",style:{marginBottom:10},closable:!0}):null,this.props.categoryInsertedError.length>0?n.a.createElement(G.a,{message:this.props.categoryInsertedError,type:"error",style:{marginBottom:10},closable:!0}):null,n.a.createElement(m.a,{name:"dynamic_form_nest_item",onFinish:this.onFinish,autoComplete:"off"},n.a.createElement(m.a.Item,{name:"categoryType",label:"Category Type:",rules:[{required:!1}]},n.a.createElement(q.a.Group,{defaultValue:"root",buttonStyle:"solid",onChange:this.onCategoryTypeChange},n.a.createElement(q.a.Button,{value:"root"},"Root Category"),n.a.createElement(q.a.Button,{value:"child"},"Child Category"))),n.a.createElement(m.a.Item,{name:"category",label:"Parent Category:",rules:[{required:!this.state.isRootCategory,message:"Missing Parent Category"}]},n.a.createElement(K.a,{style:{width:"30%"},value:this.state.value,dropdownStyle:{maxHeight:400,overflow:"auto"},treeData:this.props.categoryData,placeholder:"Choose Category",treeDefaultExpandAll:!0,onChange:this.onChange,disabled:this.state.isRootCategory})),n.a.createElement(m.a.List,{name:"categories"},(function(e,t){var a=t.add,r=t.remove;return n.a.createElement("div",null,e.map((function(e){return n.a.createElement(B.b,{key:e.key,style:{display:"flex",marginBottom:5},align:"start"},n.a.createElement(m.a.Item,Object.assign({},e,{name:[e.name,"category"],fieldKey:[e.fieldKey,"category"],label:"Category Name:",rules:[{required:!0,message:"Missing Category Name"}]}),n.a.createElement(p.a,{placeholder:"Enter Name"})),n.a.createElement(m.a.Item,Object.assign({},e,{name:[e.name,"comment"],fieldKey:[e.fieldKey,"comment"]}),n.a.createElement(p.a,{placeholder:"Comment"})),n.a.createElement(U.a,{onClick:function(){r(e.name)}}))})),n.a.createElement(m.a.Item,null,n.a.createElement(h.a,{style:{width:"30%",height:50,marginLeft:100,left:0},type:"dashed",onClick:function(){a()},block:!0},n.a.createElement(_.a,null)," Add field")))})),n.a.createElement(m.a.Item,null,n.a.createElement(h.a,{type:"primary",htmlType:"submit",style:{margin:0,marginLeft:100}},"Add"))))),n.a.createElement(Q,{tab:"View Categories",key:"2"},n.a.createElement(T.a,{type:"card"},n.a.createElement(Q,{tab:"Table View",key:"1"},n.a.createElement(M.a,{size:"small",style:{marginLeft:15,marginRight:15},dataSource:this.props.plainCategoryData,columns:e,bordered:!0,pagination:{position:["topLeft"]}})),n.a.createElement(Q,{tab:"Tree View",key:"2"},n.a.createElement(z.a,{defaultExpandedKeys:this.props.categoryData.length>0?this.props.categoryData.map((function(e){return e.key})):[""],treeData:this.props.categoryData,style:{marginLeft:20}})))),n.a.createElement(Q,{tab:"Pending Approvals",key:"3"},"Content of tab 3"))))}}]),a}(n.a.Component),X=Object(J.b)((function(e){return{categoryData:e.categories.categoryData,categoryInserted:e.categories.categoryInserted,categoryInsertedResult:e.categories.categoryInsertedResult,categoryInsertedError:e.categories.error,plainCategoryData:e.categories.plaincategoryData}}),(function(e){return{getCategoryData:function(){e(W())},insertCategoryData:function(t,a){e(function(e,t){return function(a){P.a.post(L+"/category/insertCategory",e).then((function(e){var r=e.data;console.log(e),a(function(e){return{type:"InsertCategorySuccess",payload:e}}(r)),t()})).catch((function(e){a({type:"InsertCategoryFailure",payload:e.response.data})}))}}(t,a))},getPlainCategoryData:function(){e(Y())}}}))($),Z=a(86),ee=a(460),te=a(85),ae=a(490),re=(Z.a.Option,ee.a.Option,p.a.TextArea),ne=n.a.createElement(m.a.Item,{name:"prefix",noStyle:!0},n.a.createElement(Z.a,{style:{width:70}})),oe=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))).onFinish=function(t){console.log("VALUES:",t),e.props.insertSeller(t)},e}return Object(s.a)(a,[{key:"render",value:function(){return n.a.createElement("div",{style:{width:"50%"}},n.a.createElement(m.a,{onFinish:this.onFinish,initialValues:{residence:["zhejiang","hangzhou","xihu"],prefix:"+91",rights:!1},scrollToFirstError:!0},n.a.createElement(m.a.Item,{name:"VendorName",label:n.a.createElement("span",null,"Vendor Name\xa0",n.a.createElement(te.a,{title:"Enter Vendor Name"},n.a.createElement(ae.a,null))),rules:[{required:!0,message:"Please input your nickname!",whitespace:!0}]},n.a.createElement(p.a,null)),n.a.createElement(m.a.Item,{name:"CompanyName",label:n.a.createElement("span",null,"Company Name\xa0",n.a.createElement(te.a,{title:"Enter Company Name"},n.a.createElement(ae.a,null))),rules:[{required:!0,message:"Please input company name!",whitespace:!0}]},n.a.createElement(p.a,null)),n.a.createElement(m.a.Item,{name:"email",label:"E-mail",rules:[{type:"email",message:"The input is not valid E-mail!"},{required:!0,message:"Please input your E-mail!"}]},n.a.createElement(p.a,null)),n.a.createElement(m.a.Item,{name:"phone1",label:"Mobile Number 1",rules:[{required:!0,message:"Please input your phone number!"}]},n.a.createElement(p.a,{addonBefore:ne,style:{width:"100%"}})),n.a.createElement(m.a.Item,{name:"phone2",label:"Mobile Number 2",rules:[{required:!0,message:"Please input your phone number!"}]},n.a.createElement(p.a,{addonBefore:ne,style:{width:"100%"}})),n.a.createElement(m.a.Item,{name:"Address",label:n.a.createElement("span",null,"Company Address\xa0",n.a.createElement(te.a,{title:"Enter Company Name"},n.a.createElement(ae.a,null))),rules:[{required:!0,message:"Please input company name!",whitespace:!0}]},n.a.createElement(re,null)),n.a.createElement(m.a.Item,{name:"District",label:n.a.createElement("span",null,"City/District\xa0",n.a.createElement(te.a,{title:"Enter District"},n.a.createElement(ae.a,null))),rules:[{required:!0,message:"Please input district!",whitespace:!0}]},n.a.createElement(p.a,null)),n.a.createElement(m.a.Item,{name:"State",label:n.a.createElement("span",null,"State\xa0",n.a.createElement(te.a,{title:"Enter State"},n.a.createElement(ae.a,null))),rules:[{required:!0,message:"Please input state!",whitespace:!0}]},n.a.createElement(p.a,null)),n.a.createElement(m.a.Item,{name:"rights",valuePropName:"rights"},n.a.createElement(g.a,null,"Give Insertion Rights?")),n.a.createElement(m.a.Item,null,n.a.createElement(h.a,{type:"primary",htmlType:"submit"},"Add Vendor"))))}}]),a}(n.a.Component),le=Object(J.b)((function(e){return{insertSellerLoading:e.seller.insertSellerLoading,insertSellerAdded:e.seller.insertSellerAdded,insertSellerSuccessMessage:e.seller.insertSellerSuccessMessage,insertSellerErrorMessage:e.seller.insertSellerErrorMessage}}),(function(e){return{insertSeller:function(t){e(function(e){return function(t){t({type:"AddSellerRequest"}),P.a.post(L+"/sellers/insertSeller",e).then((function(e){e.data;t({type:"AddSellerSuccess",payload:e.data})})).catch((function(e){t({type:"AddSellerFailure",payload:e})}))}}(t))}}}))(oe),ce=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return n.a.createElement("div",null,"This is view page")}}]),a}(n.a.Component),se=T.a.TabPane,ie=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return n.a.createElement("div",{style:{marginLeft:200,height:""}},n.a.createElement(T.a,{defaultActiveKey:"1",size:"large",style:{marginBottom:32,paddingLeft:15}},n.a.createElement(se,{tab:"Add Vendor",key:"1"},n.a.createElement(le,null)),n.a.createElement(se,{tab:"View Vendors",key:"2"},n.a.createElement(ce,null)),n.a.createElement(se,{tab:"Pending Approval Products",key:"3"})))}}]),a}(n.a.Component),ue=a(259),de=a(159),me=a(192),pe=a.n(me),ge=a(249),he=a(175),ye=a(463),fe=a(461),Ee=a(480),Pe=a(466),be=a(491),Ce=a(468),ve=a(470),Se=a(473),Ie=a(489),ke=function(){return function(e){e({type:"GetProductSuggestionRequest"}),P.a.get(L+"/products/getProductsForSuggestion").then((function(t){var a=t.data;console.log(t),e({type:"GetProductSuggestionSuccess",payload:a})})).catch((function(t){e({type:"GetProductSuggestionFailure",payload:t.message})}))}},Ae=function(e,t){return function(a){a({type:"AddProductRequest"}),P.a.post(L+"/products/insertProduct",e).then((function(e){e.data;a({type:"AddProductSuccess",payload:e.data});var r=new FormData;r.append("type","product"),r.append("productId",e.data._id);for(var n=0;n<t.length;n++)r.append("file",t[n]);a({type:"AddProductImagesRequest"}),P.a.post(L+"/products/uploadImages",r).then((function(e){a(function(e){return{type:"AddProductImagesSuccess",payload:e}}(e)),console.log("Upload images success",e)})).catch((function(e){a({type:"AddProductImagesFailure",payload:e}),console.log("Upload images error",e)}))})).catch((function(e){a({type:"AddProductFailure",payload:e})}))}},De=function(e){return function(t){P.a.post(L+"/products/uploadImages",e).then((function(e){e.data;console.log(e)})).catch((function(e){}))}},Oe=(V.a.Text,V.a.Link,T.a.TabPane,ye.a.Step),we=Z.a.Option,je=p.a.TextArea;var Ne=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(e){var r;return Object(c.a)(this,a),(r=t.call(this,e)).formRef=n.a.createRef(),r.handleClose=function(e){var t=r.state.tags.filter((function(t){return t!==e}));console.log(t),r.setState({tags:t})},r.showInput=function(){r.setState({inputVisible:!0},(function(){return r.input.focus()}))},r.handleInputChange=function(e){r.setState({inputValue:e.target.value})},r.handleInputConfirm=function(){var e=r.state.inputValue,t=r.state.tags;e&&-1===t.indexOf(e)&&(t=[].concat(Object(he.a)(t),[e])),console.log(t),r.setState({tags:t,inputVisible:!1,inputValue:""})},r.handleEditInputChange=function(e){r.setState({editInputValue:e.target.value})},r.handleEditInputConfirm=function(){r.setState((function(e){var t=e.tags,a=e.editInputIndex,r=e.editInputValue,n=Object(he.a)(t);return n[a]=r,{tags:n,editInputIndex:-1,editInputValue:""}}))},r.saveInputRef=function(e){r.input=e},r.saveEditInputRef=function(e){r.editInput=e},r.getBase64=function(e){return new Promise((function(t,a){var r=new FileReader;r.readAsDataURL(e),r.onload=function(){return t(r.result)},r.onerror=function(e){return a(e)}}))},r.handleCancel=function(){return r.setState({previewVisible:!1})},r.handlePreview=function(){var e=Object(ge.a)(pe.a.mark((function e(t){return pe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.url||t.preview){e.next=4;break}return e.next=3,r.getBase64(t.originFileObj);case 3:t.preview=e.sent;case 4:r.setState({previewImage:t.url||t.preview,previewVisible:!0,previewTitle:t.name||t.url.substring(t.url.lastIndexOf("/")+1)});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.next=function(){if(0!==r.state.current||""!=r.state.productName&&""!=r.state.productDescription&&""!=r.state.productBrand&&""!=r.state.productCategoryId)if(1===r.state.current&&r.state.createdProps.length<1)ue.b.error("Please add at least one feature !");else{2===r.state.current&&ue.b.info("Three");var e=r.state.current+1;r.setState({current:e})}else ue.b.error("Please provide all details",2)},r.prev=function(){var e=r.state.current-1;r.setState({current:e})},r.onProductNameChange=function(e){console.log("Product Name:",e.target.value),r.setState({productName:e.target.value})},r.onProductDescriptionChange=function(e){r.setState({productDescription:e.target.value})},r.onProductBrandChange=function(e){r.setState({productBrand:e.target.value})},r.onProductPriceChange=function(e){r.setState({productPrice:e.target.value})},r.onProductDiscountChange=function(e){r.setState({productDiscount:e.target.value},(function(){console.log("FINAL",r.state)}))},r.onProductSearch=function(){},r.onCategoryChange=function(e){e?function(){var t=r.props.plainCategoryData.filter((function(t){return t.value==e}))[0],a=t,n=[];for(n.push(t.title);a.parentId>0;){var o=r.props.plainCategoryData.find((function(e){return e.value===a.parentId}));n.push(o.title),a=o}n=n.reverse(),console.log("Array Category path:",n),r.setState({productCategoryId:t._id,categoryNameForDropdown:t.title,productCategoryPath:n})}():r.setState({productCategoryId:"",categoryNameForDropdown:""})},r.onProductSelectionChange=function(e){if(e){var t=r.props.productSuggestions.filter((function(t){return t._id==e}))[0],a=t.ProductName;a+="(",a+=t.CategoryPath.map((function(e){return e})),a+=")",console.log("SEARCH CATEGORY NAME:",a),r.setState({productName:t.ProductName,productCategoryId:t.CategoryId,productCategoryPath:t.CategoryPath,isProductSelectedFromSearch:!0,categoryNameForSearch:a})}else r.setState({productName:"",productCategoryId:"",productCategoryPath:[],isProductSelectedFromSearch:!1,categoryNameForSearch:""})},r.onSuggestedPropChecked=function(e){if(e.target.checked){var t=r.state.fields.concat({name:e.target.value,key:e.target.value,fieldKey:e.target.value,custom:"Nocustom"});r.setState({fields:t})}else r.setState({fields:r.state.fields.filter((function(t){return t.name!==e.target.value}))})},r.addNewProp=function(){var e=r.state.fields.length,t=r.state.fields.concat({name:"Length"+e,key:"Length"+e,fieldKey:"Length"+e,custom:"custom"});r.setState({fields:t})},r.removeProp=function(e){console.log("REMOVE",e),r.setState({fields:r.state.fields.filter((function(t){return t.name!==e}))})},r.onAddProps=function(e){console.log("VALUES",e);var t={stock:0,price:0,discount:0,objArr:[]},a=0,n=!0;if(e.props?Object.keys(e.props).forEach((function(t){e.props[t].prop&&e.props[t].value||(n=n&&!1),""!==e.props[t].prop&&""!==e.props[t].value&&e.props[t].isVariant&&a++})):ue.b.error("Plese enter all details"),n)if(void 0===e.stock||parseInt(e.stock)<=0||parseInt(e.price)<=0||void 0===e.price)ue.b.error("Please enter valid Stock and Price");else if(a>2)ue.b.error("Cannot have more than 2 buy criteria for a product",2);else{if(console.log("VALUES 2",e),Object.keys(e.props).forEach((function(a){if(""!==e.props[a].prop&&""!==e.props[a].value){console.log("INSIDE CHECK");var r={};r.name=e.props[a].prop,r.value=e.props[a].value,r.isBuyingCriteria=e.props[a].isVariant,t.objArr.push(r)}})),t.stock=e.stock,t.price=e.price,t.discount=e.discount,console.log("FINALOBJ:",t),t.objArr.length>0){var o=Object(he.a)(r.state.createdProps),l={stock:0,propsArr:[],Id:0,isChecked:!1};l.stock=t.stock,l.price=t.price,l.discount=t.discount,l.propsArr=t.objArr,l.Id=r.state.createdProps.length+1,o.push(l),r.setState({createdProps:o,fields:[]}),ue.b.success("Added Successfully",2)}r.formRef.current.resetFields()}else ue.b.error("Please enter all values")},r.onMyPropsCheckChange=function(e){var t=r.state.createdProps.map((function(t){return t.Id==e.target.name?(!0===e.target.checked?t.isChecked=!0:t.isChecked=!1,t):t}));r.setState({createdProps:t})},r.onRemoveCreatedProp=function(){var e=r.state.createdProps.filter((function(e){return!1===e.isChecked}));r.setState({createdProps:e}),ue.b.info("Removed Successfully",2)},r.addSimilarProp=function(){var e=r.state.createdProps.filter((function(e){return!0===e.isChecked})),t=[];console.log("PROP TO COPY:",e),r.setState({isCopyProp:!0,fields:[]}),e[0].propsArr.map((function(e){var a={name:e.name,key:e.name,fieldKey:e.name,custom:"custom",value:e.value,isVariant:e.isBuyingCriteria,price:e.price,discount:e.discount,stock:e.stock};t.push(a)})),r.setState({isCopyProp:!0,fields:t,copiedProps:t}),console.log("FINAL COPY ARRAY:",t)},r.handleChange=function(e){var t=e.fileList;r.setState({fileList:t}),console.log(r.state.fileList)},r.onStockChange=function(){},r.onAddProduct=function(){var e={ProductName:r.state.productName,CategoryId:r.state.productCategoryId,Brand:r.state.productBrand,Description:r.state.productDescription,CategoryPath:r.state.productCategoryPath,ImagesFormData:r.state.FormDataForFiles,insertedByEmail:localStorage.getItem("email"),Tags:r.state.tags,Variants:[],MoreProps:[]};r.state.createdProps.map((function(t){var a={price:t.price,stock:t.stock,variants:[]};t.propsArr.map((function(e){a.variants.push({name:e.name,value:e.value,isBuyingCriteria:e.isBuyingCriteria})})),e.Variants.push(a)}));var t=new FormData;t.append("productData",e);for(var a=0;a<r.state.fileList.length;a++)t.append("file",r.state.fileList[a]);r.setState({FormDataForFiles:t}),r.props.insertProduct(e,r.state.fileList),console.log("CREATED PRODUCT:",e)},r.handleChangeCustomUploader=function(e){r.setState({fileList:e.target.files},(function(){console.log("FIles:",r.state.fileList)}))},r.addAnotherProductReload=function(){window.location.reload()},r.state={value:void 0,isRootCategory:!0,selectedRowKeys:[],searchText:"",searchedColumn:"",current:0,fields:[],createdProps:[],isCopyProp:!1,previewVisible:!1,FormDataForFiles:{},previewImage:"",previewTitle:"",fileList:[],tags:["Unremovable","Tag 2","Tag 3"],inputVisible:!1,inputValue:"",editInputIndex:-1,editInputValue:"",isProductSelectedFromSearch:!1,productName:"",productCategoryId:0,productCategoryName:"",productCategoryPath:[],productDescription:"",productBrand:"",productPrice:0,productDiscount:0,categoryNameForSearch:"",categoryNameForDropdown:"",copiedProps:[]},r}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.props.getProductSuggestions(),this.props.getCategoryData(),this.props.getPlainCategoryData()}},{key:"componentDidUpdate",value:function(){}},{key:"render",value:function(){var e=this,t=[],a=this.state,r=a.tags,o=a.inputVisible,l=a.inputValue,c=a.editInputIndex,s=a.editInputValue,i=this.state,u=i.previewVisible,y=i.previewImage,f=(i.fileList,i.previewTitle);_.a;0==this.props.suggestionsloading&&0===t.length&&(this.props.productSuggestions.map((function(a){a.CategoryId===e.state.productCategoryId&&a.MoreProps.map((function(a){t.find((function(e){return e.key==a.name}))||t.push(n.a.createElement(g.a,{value:a.name,onChange:e.onSuggestedPropChecked,key:a.name},n.a.createElement("b",null,a.name)," : ",a.value))}))})),console.log("Valuestmp:",t));var E=[{title:"First",content:n.a.createElement(d.a,{style:{margin:10,minHeight:"500px"}},n.a.createElement(m.a,{name:"dynamic_form_nest_item",autoComplete:"off"},n.a.createElement(G.a,{showIcon:!0,style:{marginBottom:15},type:"info",message:"Use this page only to add a new product. If you wish to update the\r stock, change features and variants, Go to View Products and Edit the desired product"}),n.a.createElement(m.a.Item,{label:"Search Products",style:{width:"50%"}},n.a.createElement(Z.a,{placeholder:"Enter Product Name",allowClear:!0,showSearch:!0,onSearch:this.onProductSearch,value:this.state.categoryNameForSearch,onChange:this.onProductSelectionChange,filterOption:function(e,t){return t.children.toLowerCase().indexOf(e.toLowerCase())>=0}},this.props.productSuggestions.map((function(e){return n.a.createElement(we,{key:e._id},e.ProductName)})))),n.a.createElement(fe.a,{orientation:"left",style:{width:"30%"}},"OR"),n.a.createElement(m.a.Item,{style:{width:"30%"},name:"category",label:"Choose Category:",rules:[{required:!1,message:"Missing Parent Category"}]},n.a.createElement(K.a,{disabled:this.state.isProductSelectedFromSearch,allowClear:!0,dropdownStyle:{maxHeight:400,overflow:"auto"},treeData:this.props.categoryData,placeholder:"Choose Product Category",treeDefaultExpandAll:!0,onChange:this.onCategoryChange,defaultValue:this.state.categoryNameForDropdown})),n.a.createElement(m.a.Item,{label:"Product Name",style:{width:"30%"}},n.a.createElement(p.a,{placeholder:"Enter Name",disabled:this.state.isProductSelectedFromSearch,allowClear:!0,onChange:this.onProductNameChange,value:this.state.productName})),n.a.createElement(m.a.Item,{label:"Product Description",style:{width:"30%"}},n.a.createElement(je,{placeholder:"Enter Description",value:this.state.productDescription,allowClear:!0,onChange:this.onProductDescriptionChange})),n.a.createElement(m.a.Item,{label:"Brand",style:{width:"30%"}},n.a.createElement(p.a,{placeholder:"Enter Brand",value:this.state.productBrand,allowClear:!0,onChange:this.onProductBrandChange}))))},{title:"Second",content:n.a.createElement(d.a,{style:{margin:10,minHeight:"500px"}},n.a.createElement(d.a.Grid,{hoverable:!1,style:{width:"30%",minHeight:"400px",paddingTop:0},title:"Suggested Features"},n.a.createElement(fe.a,{orientation:"left"},"Suggested Features ",n.a.createElement(S.a,{count:t.length})," "),n.a.createElement(Ee.b,Object(de.a)({style:{margin:0,padding:0,height:200,overflowY:"scroll"},size:"small",bordered:!0,dataSource:t,renderItem:function(e){return n.a.createElement(Ee.b.Item,null,e)}},"style",{disabled:"true"})),n.a.createElement(fe.a,{orientation:"left"},"Features Added by You ",n.a.createElement(S.a,{count:this.state.createdProps.length})),n.a.createElement(Ee.b,{style:{margin:0,padding:0,height:200,overflowY:"scroll"},size:"small",className:"",bordered:!0,dataSource:this.state.createdProps.map((function(t){return n.a.createElement(g.a,{name:t.Id,onChange:e.onMyPropsCheckChange},t.propsArr.map((function(e){return e.name+" : "+e.value+", "})),"Stock : "+t.stock+", ","Price : "+t.price+", ","Discount : "+t.discount)})),renderItem:function(e){return n.a.createElement(Ee.b.Item,null,e)}}),n.a.createElement("div",{style:{marginTop:2}},n.a.createElement(h.a,{type:"primary",disabled:1!==this.state.createdProps.filter((function(e){return!0===e.isChecked})).length,style:{backgroundColor:""},onClick:this.addSimilarProp,size:"small"},"Add a Copy"),n.a.createElement(h.a,{style:{backgroundColor:"",marginLeft:3},onClick:this.onRemoveCreatedProp,danger:!0,type:"primary",disabled:0===this.state.createdProps.filter((function(e){return!0===e.isChecked})).length,size:"small"},"Remove ",this.state.createdProps.filter((function(e){return!0===e.isChecked})).length>0?this.state.createdProps.filter((function(e){return!0===e.isChecked})).length:""))),n.a.createElement(d.a.Grid,{hoverable:!1,style:{width:"70%",minHeight:"400px"},title:"Your Features",type:"inner"},n.a.createElement(m.a,{onFinish:this.onAddProps,ref:this.formRef},n.a.createElement(m.a.List,{name:"props"},(function(a,r){r.add,r.remove;return n.a.createElement("div",null,e.state.fields.map((function(a){return n.a.createElement(B.b,{key:a.key,style:{display:"flex",marginBottom:2},align:"start"},n.a.createElement(m.a.Item,Object.assign({},a,{name:[a.name,"prop"],fieldKey:[a.fieldKey,"prop"],initialValue:e.state.isCopyProp||t.find((function(e){return e.key==a.name}))?a.name:""}),e.state.copiedProps.find((function(e){return e.key==a.name}))?n.a.createElement(p.a,{placeholder:"Feature Name",disabled:!0}):n.a.createElement(p.a,{placeholder:"Feature Name"})),n.a.createElement(m.a.Item,Object.assign({style:{display:"none"}},a,{name:[a.name,a.custom],fieldKey:[a.fieldKey,a.custom]}),(t.find((function(e){return e.key==a.name})),n.a.createElement(p.a,null))),n.a.createElement(m.a.Item,Object.assign({},a,{name:[a.name,"value"],fieldKey:[a.fieldKey,"value"],initialValue:e.state.isCopyProp?a.value:""}),n.a.createElement(p.a,{placeholder:"Value"})),n.a.createElement(m.a.Item,Object.assign({},a,{name:[a.name,"isVariant"],fieldKey:[a.fieldKey,"isVariant"],label:"Is Variant ?",initialValue:!!e.state.isCopyProp&&a.isVariant,valuePropName:"checked"}),e.state.copiedProps.find((function(e){return e.key==a.name}))?n.a.createElement(g.a,{disabled:!0}):n.a.createElement(g.a,null)),e.state.isCopyProp?e.setState({isCopyProp:!1}):"",t.find((function(e){return e.key==a.name}))?"":n.a.createElement(U.a,{onClick:function(){e.removeProp(a.name)}}))})),n.a.createElement(m.a.Item,null,n.a.createElement(h.a,{style:{width:"30%",marginLeft:0,left:0},type:"dashed",onClick:e.addNewProp,block:!0},n.a.createElement(_.a,null)," Add New field")))})),n.a.createElement(m.a.Item,{label:"Stock:",name:"stock",style:{width:"30%"}},n.a.createElement(p.a,{placeholder:"Enter Quantity",type:"number",onChange:this.onStockChange,defaultValue:"0",suffix:n.a.createElement(te.a,{title:"Extra information"},n.a.createElement(Ie.a,{style:{color:"rgba(0,0,0,.45)"}}))})),n.a.createElement(m.a.Item,{label:"Price:",name:"price",style:{width:"30%"}},n.a.createElement(p.a,{placeholder:"Enter Price",type:"number",onChange:this.onProductPriceChange,defaultValue:"0",prefix:"\u20b9",suffix:n.a.createElement(te.a,{title:"Extra information"},n.a.createElement(Ie.a,{style:{color:"rgba(0,0,0,.45)"}}))})),n.a.createElement(m.a.Item,{label:"Discount:",name:"discount",style:{width:"30%"}},n.a.createElement(p.a,{placeholder:"Enter Discount",type:"number",onChange:this.onProductDiscountChange,defaultValue:"0",prefix:"\u20b9",suffix:n.a.createElement(te.a,{title:"Extra information"},n.a.createElement(Ie.a,{style:{color:"rgba(0,0,0,.45)"}}))})),n.a.createElement(m.a.Item,null,n.a.createElement(h.a,{disabled:0==this.state.fields.length,type:"primary",htmlType:"submit",style:{margin:0,marginLeft:100}},"Add")))))},{title:"Third",content:n.a.createElement(d.a,{style:{margin:10,minHeight:"500px"}},n.a.createElement(d.a,{title:"Upload Images",hoverable:!1,type:"inner",style:{width:""}},n.a.createElement("input",{type:"file",name:"file",multiple:!0,onChange:this.handleChangeCustomUploader}),n.a.createElement(Pe.a,{visible:u,title:f,footer:null,onCancel:this.handleCancel},n.a.createElement("img",{alt:"example",style:{width:"100%"},src:y}))),n.a.createElement(d.a,{title:"Add Search tags",hoverable:!1,type:"inner",style:{width:"",marginTop:15}},n.a.createElement(G.a,{showIcon:!0,style:{marginBottom:15},type:"info",message:"Adding search tags enhances your product visibility to the customers. We highly recommend \r you adding tags that are descriptive and relevant."}),n.a.createElement(n.a.Fragment,null,r.map((function(t,a){if(c===a)return n.a.createElement(p.a,{ref:e.saveEditInputRef,key:t,size:"small",className:"tag-input",value:s,onChange:e.handleEditInputChange,onBlur:e.handleEditInputConfirm,onPressEnter:e.handleEditInputConfirm});var r=t.length>20,o=n.a.createElement(be.a,{className:"edit-tag",key:t,closable:!0,color:"cyan",style:{marginBottom:5},onClose:function(){return e.handleClose(t)}},n.a.createElement("span",{onDoubleClick:function(r){0!==a&&(e.setState({editInputIndex:a,editInputValue:t},(function(){e.editInput.focus()})),r.preventDefault())}},r?"".concat(t.slice(0,20),"..."):t));return r?n.a.createElement(te.a,{title:t,key:t},o):o})),o&&n.a.createElement(p.a,{ref:this.saveInputRef,type:"text",size:"small",style:{width:"30%"},className:"tag-input",value:l,onChange:this.handleInputChange,onBlur:this.handleInputConfirm,onPressEnter:this.handleInputConfirm}),!o&&n.a.createElement(be.a,{color:"magenta",style:{cursor:"pointer"},className:"site-tag-plus",onClick:this.showInput},n.a.createElement(_.a,null)," New Tag"))))},{title:"Last",content:n.a.createElement(d.a,{style:{margin:10,minHeight:"500px"}},n.a.createElement(Ce.a,{title:this.state.productName,subTitle:" ["+this.state.productCategoryPath+"]",extra:[n.a.createElement(G.a,{type:"info",message:"To edit this product, go back to previous steps",showIcon:!0})],style:{margin:0,padding:0}}),n.a.createElement(fe.a,{orientation:"left"},"Details"),n.a.createElement(ve.a,null,n.a.createElement(ve.a.Item,{label:"Description"},this.state.productDescription),n.a.createElement(ve.a.Item,{label:"Brand"},this.state.productBrand)),this.state.createdProps.map((function(t){return n.a.createElement("div",null,n.a.createElement(fe.a,{orientation:"left"},"Variant #",e.state.createdProps.indexOf(t)+1),n.a.createElement(ve.a,{bordered:!0},t.propsArr.map((function(e){return n.a.createElement(ve.a.Item,{style:{color:"darkgrey",fontWeight:"bold"},label:e.name},e.value)})),n.a.createElement(ve.a.Item,{label:"Stock",style:{color:"darkgreen",fontWeight:"bolder"}},t.stock)))})),n.a.createElement(fe.a,{orientation:"left"},"Search Tags"),this.state.tags.map((function(e){return n.a.createElement(be.a,{closable:!1,color:"green"},e)})))}],P=this.state.current;return n.a.createElement("div",null,n.a.createElement("div",{style:{textAlign:"left",marginRight:10}},n.a.createElement(ye.a,{size:"small",current:this.state.current,style:this.props.insertImagesLoading?{display:""}:{display:"none"}},n.a.createElement(Oe,{key:"1",title:"Add Product Details"}),n.a.createElement(Oe,{key:"2",title:"Add Variants, Features"},"Add variants"),n.a.createElement(Oe,{key:"3",title:"Add Images and Tags"},"Add Search terms"),n.a.createElement(Oe,{key:"4",title:"Review Product"},"Review Product")),n.a.createElement("div",{style:this.props.insertImagesLoading?{display:""}:{display:"none"},className:"steps-content"},E[P].content),n.a.createElement("div",{className:"steps-action",style:this.props.insertImagesLoading?{display:""}:{display:"none"}},P<E.length-1&&n.a.createElement(h.a,{type:"primary",onClick:function(){return e.next()}},"Next"),P===E.length-1&&n.a.createElement(h.a,{type:"primary",onClick:this.onAddProduct},"Finish & Add Product"),P>0&&n.a.createElement(h.a,{style:{margin:"0 8px"},onClick:function(){return e.prev()}},"Previous"))),n.a.createElement("div",null,n.a.createElement(Se.a,{style:this.props.insertImagesLoading?{display:"none"}:{display:""},status:"success",title:"Product Successfully Added!",subTitle:"Product ID: 2017182818828182881",extra:[n.a.createElement(h.a,{type:"primary",key:"console",onClick:this.addAnotherProductReload},"Add another Product")]})),n.a.createElement("div",null,n.a.createElement(Se.a,{style:this.props.insertImagesError||this.props.insertProductErrorMessage?{display:""}:{display:"none"},status:"500",title:"Error Adding Product!",subTitle:(this.props.insertImagesError,this.props.insertProductErrorMessage),extra:[n.a.createElement(h.a,{type:"primary",key:"console",onClick:this.addAnotherProductReload},"Try Again")]})))}}]),a}(n.a.Component),Le=Object(J.b)((function(e){return{suggestionsloading:e.products.suggestionsloading,productSuggestions:e.products.productSuggestionsData,productSuggestionError:e.products.productSuggestionError,categoryData:e.categories.categoryData,plainCategoryData:e.categories.plaincategoryData,insertProductLoading:e.products.insertProductLoading,insertProductSuccessMsg:e.products.insertProductSuccessMessage,insertProductErrorMsg:e.products.insertProductErrorMessage,insertProductAdded:e.products.insertProductAdded,insertImagesLoading:e.products.inserImagesLoading,insertImagesSuccess:e.products.insertImagesSuccess,insertImagesError:e.products.insertImagesError}}),(function(e){return{getProductSuggestions:function(){e(ke())},getCategoryData:function(){e(W())},getPlainCategoryData:function(){e(Y())},insertProduct:function(t,a){e(Ae(t,a))},uploadProductImages:function(t){e(De(t))}}}))(Ne),Fe=a(125),xe=a(75),Re=a(469),Ve=a(170),Te=a(488),Me=a(492),Be=Z.a.Option,Ge=(d.a.Meta,T.a.TabPane),qe=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var r=arguments.length,o=new Array(r),l=0;l<r;l++)o[l]=arguments[l];return(e=t.call.apply(t,[this].concat(o))).formRef=n.a.createRef(),e.state={filters:{},pageNumber:0,propsArr:[],propsFilter:[],expand:1,showSearchAndProduct:!0},e.onFinish=function(t){console.log("Received values of form: ",t),e.setState({filters:t}),e.props.getAllProducts({filters:t,pageNumber:e.state.pageNumber,propsFilter:e.state.propsFilter})},e.resetFields=function(){e.formRef.current.resetFields()},e.onCategoryChange=function(t){if(t){var a=e.props.plainCategoryData.find((function(e){return e.value==t})),r=e.props.propsArr.filter((function(e){return e.categoryId==a._id}));e.setState({propsArr:[]},(function(){e.setState({propsArr:r})}))}else e.setState({propsArr:[]})},e.componentDidMount=function(){e.props.getAllProducts({}),0==e.props.plainCategoryData.length&&e.props.getPlainCategoryData()},e.onPaginationChange=function(t){e.setState({pageNumber:t}),e.props.getAllProducts({filters:e.state.filters,pageNumber:t})},e.onCategoryFilterChange=function(t,a){var r=e.state.propsFilter,n={name:"",values:[]};r=r.filter((function(e){return e.name!==t})),n.name=t,n.values=a,r.push(n),e.setState({propsFilter:r},(function(){console.log("Props filter:",e.state.propsFilter)}))},e.getDescription=function(e,t,a,r){return n.a.createElement("div",{style:{fontWeight:"50px"}},n.a.createElement("b",null,"Description :")," ",e,n.a.createElement("br",null),n.a.createElement("b",null,"Price :")," ",t,n.a.createElement("br",null),n.a.createElement("b",null,"Brand :")," ",a,n.a.createElement("br",null),n.a.createElement("b",null,"Seller :")," ",r)},e.onProductClick=function(t){e.props.getSingleProduct({productId:t}),e.setState({showSearchAndProduct:!1})},e.onBackClick=function(){e.setState({showSearchAndProduct:!0})},e.Content=function(e){var t=e.children,a=e.extra;return n.a.createElement("div",{className:"content"},n.a.createElement("div",{className:"main"},t),n.a.createElement("div",{className:"extra"},a))},e.renderContent=function(e){return n.a.createElement(ve.a,{size:"default"},n.a.createElement(ve.a.Item,{label:"Description"},n.a.createElement("b",null,e.Description)),n.a.createElement(ve.a.Item,{label:"Seller"},n.a.createElement("a",null,e.VendorId?e.VendorId.CompanyName:"")),n.a.createElement(ve.a.Item,{label:"Brand"},n.a.createElement("b",null,e.Brand)))},e.renderCategoryPath=function(e){if(e)return e.map((function(e){return"->"+e}))},e.getStats=function(){return n.a.createElement(d.a,null,n.a.createElement(Fe.a,{gutter:16},n.a.createElement(xe.a,{span:4},n.a.createElement(Re.a,{title:"TOTAL ORDERS",value:150})),n.a.createElement(xe.a,{span:4},n.a.createElement(Re.a,{title:"NEW ORDERS",value:22})),n.a.createElement(xe.a,{span:4},n.a.createElement(Re.a,{title:"PENDING ORDERS",value:13})),n.a.createElement(xe.a,{span:4},n.a.createElement(Re.a,{title:"TOTAL SELL AMOUNT (\u20b9)",value:"1,12,893 \u20b9",precision:2}))))},e}return Object(s.a)(a,[{key:"render",value:function(){var e=this;return console.log("Props Aray",this.state.propsArr),n.a.createElement("div",{style:{textAlign:"left",marginRight:10}},n.a.createElement("div",{style:{display:this.state.showSearchAndProduct?"":"none"}},n.a.createElement(m.a,{ref:this.formRef,style:{padding:15},name:"advanced_search",className:"ant-advanced-search-form",onFinish:this.onFinish},n.a.createElement(Fe.a,{gutter:24},n.a.createElement(xe.a,{span:6,key:"Category"},n.a.createElement(m.a.Item,{name:"category",label:"Category:"},n.a.createElement(K.a,{allowClear:!0,treeData:this.props.categoryData,placeholder:"Choose Product Category",treeDefaultExpandAll:!0,onChange:this.onCategoryChange}))),n.a.createElement(xe.a,{span:6,key:"Name"},n.a.createElement(m.a.Item,{name:"ProductName",label:"Product Name"},n.a.createElement(p.a,{placeholder:"Product Name"}))),n.a.createElement(xe.a,{span:6,key:"Brand"},n.a.createElement(m.a.Item,{name:"ProductBrand",label:"Brand"},n.a.createElement(p.a,{placeholder:"Brand"}))),n.a.createElement(xe.a,{span:6,key:"Vendor"},n.a.createElement(m.a.Item,{name:"Vendor",label:"Vendor"},n.a.createElement(p.a,{placeholder:"Vendor"}))),n.a.createElement(xe.a,{span:4,key:"MinPrice"},n.a.createElement(m.a.Item,{name:"MinPrice",label:"Min Price"},n.a.createElement(p.a,{placeholder:"Min",type:"number"}))),n.a.createElement(xe.a,{span:4,key:"MaxPrice"},n.a.createElement(m.a.Item,{name:"MaxPrice",label:"Max Price"},n.a.createElement(p.a,{placeholder:"Max",type:"number"}))),n.a.createElement(xe.a,{span:6,key:"Date"},n.a.createElement(m.a.Item,{name:"Date",label:"Added Date"},n.a.createElement(p.a,{placeholder:"Date",type:"date"})))),n.a.createElement(Fe.a,{gutter:24},this.state.propsArr.map((function(t){return n.a.createElement(xe.a,{span:4,key:t.categoryId},n.a.createElement(m.a.Item,{name:t.name,label:t.name},n.a.createElement(Z.a,{mode:"tags",onChange:function(a){e.onCategoryFilterChange(t.name,a)}},t.values.map((function(e){return n.a.createElement(Be,{value:e},e)})))))}))),n.a.createElement(Fe.a,null,n.a.createElement(xe.a,{span:24,style:{textAlign:"right"}},n.a.createElement(h.a,{type:"primary",htmlType:"submit"},"Search"),n.a.createElement(h.a,{style:{margin:"0 8px"},onClick:function(){e.resetFields()}},"Clear"),n.a.createElement("a",{style:{fontSize:12},onClick:function(){}},this.state.expand?n.a.createElement(Te.a,null):n.a.createElement(Me.a,null)," Collapse")))),n.a.createElement("br",null),n.a.createElement(d.a,null,n.a.createElement(Ve.a,{size:"small",defaultCurrent:1,onChange:this.onPaginationChange,total:this.props.totalProducts}),n.a.createElement(Ee.b,{itemLayout:"horizontal",style:{cursor:"pointer",fontSize:"50px"},dataSource:this.props.allProductsData,renderItem:function(t){return n.a.createElement(Ee.b.Item,{style:{cursor:"pointer",fontSize:"50px"}},n.a.createElement(Ee.b.Item.Meta,{style:{fontSize:"50px"},onClick:function(){e.onProductClick(t._id)},avatar:n.a.createElement("img",{src:"http://localhost:4000/"+t.Images[0],width:"150",height:"150"}),title:n.a.createElement("a",{onClick:function(){e.onProductClick()}},t.ProductName),description:e.getDescription(t.Description,t.Price,t.Brand,t.VendorId)}))}}))),n.a.createElement("div",{className:"ProductDetailsPageDiv",style:{display:this.state.showSearchAndProduct?"none":""}},n.a.createElement(Ce.a,{className:"site-page-header-responsive",onBack:this.onBackClick,title:this.props.singleProductData.ProductName,subTitle:this.renderCategoryPath(this.props.singleProductData.CategoryPath),extra:[n.a.createElement(h.a,{key:"1",type:"primary"},"Delete")],footer:n.a.createElement(d.a,null,n.a.createElement(T.a,{defaultActiveKey:"1"},n.a.createElement(Ge,{tab:"Statistics",key:"1"},this.getStats()),n.a.createElement(Ge,{tab:"Order History",key:"2"}),n.a.createElement(Ge,{tab:"Reviews",key:"3"})))},n.a.createElement("div",null,this.renderContent(this.props.singleProductData)),this.props.singleProductData.CategoryId?this.props.singleProductData.VariantIds.map((function(t){return n.a.createElement("div",null,n.a.createElement(fe.a,{orientation:"left"},"Variant #",e.props.singleProductData.VariantIds.indexOf(t)+1),n.a.createElement(ve.a,{bordered:!0},t.Variants.map((function(e){return n.a.createElement(ve.a.Item,{style:{color:"darkgrey",fontWeight:"bold"},label:e.name},e.value)})),n.a.createElement(ve.a.Item,{label:"Stock",style:{color:"darkgreen",fontWeight:"bolder"}},t.Stock),n.a.createElement(ve.a.Item,{label:"Price",style:{color:"darkgreen",fontWeight:"bolder"}},t.Price)))})):"",n.a.createElement("div",{className:"Images"},n.a.createElement(fe.a,{orientation:"left"},"Images"),this.props.singleProductData.Images?this.props.singleProductData.Images.map((function(e){return n.a.createElement("img",{width:"100",alt:"No Data",height:"100",src:"http://localhost:4000/"+e})})):""))))}}]),a}(n.a.Component),Ke=Object(J.b)((function(e){return{suggestionsloading:e.products.suggestionsloading,productSuggestions:e.products.productSuggestionsData,productSuggestionError:e.products.productSuggestionError,categoryData:e.categories.categoryData,plainCategoryData:e.categories.plaincategoryData,insertProductLoading:e.products.insertProductLoading,insertProductSuccessMsg:e.products.insertProductSuccessMessage,insertProductErrorMsg:e.products.insertProductErrorMessage,insertProductAdded:e.products.insertProductAdded,insertImagesLoading:e.products.inserImagesLoading,insertImagesSuccess:e.products.insertImagesSuccess,insertImagesError:e.products.insertImagesError,productsLoading:e.products.getProductsAdminLoading,productsLoadingError:e.products.getProductsAdminError,allProductsData:e.products.allProductsData,totalProducts:e.products.totalProductCount,propsArr:e.products.propsArr,singleProductData:e.products.singleProductData}}),(function(e){return{getProductSuggestions:function(){e(ke())},getCategoryData:function(){e(W())},getPlainCategoryData:function(){e(Y())},insertProduct:function(t,a){e(Ae(t,a))},uploadProductImages:function(t){e(De(t))},getAllProducts:function(t){e(function(e){return function(t){t({type:"GetProductsAdminRequest"}),P.a.post(L+"/products/GetAllProductsAdmin",e).then((function(e){var a=e.data;console.log(e),t(function(e){return{type:"GetProductsAdminSuccess",payload:e}}(a))})).catch((function(e){t({type:"GetProductsAdminFailure",payload:e.message})}))}}(t))},getSingleProduct:function(t){var a;e((a=t,function(e){e({type:"GetSingleProductRequest"}),P.a.post(L+"/products/GetSingleProductAdmin",a).then((function(t){e({type:"GetSingleProductSuccess",payload:t.data})})).catch((function(t){e({type:"GetSingleProductFailure",payload:t})}))}))}}}))(qe),ze=T.a.TabPane;var He=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return n.a.createElement("div",{style:{marginLeft:200,height:""}},n.a.createElement(T.a,{defaultActiveKey:"1",size:"large",style:{marginBottom:32,paddingLeft:15}},n.a.createElement(ze,{tab:"Add Product",key:"1"},n.a.createElement(Le,null)),n.a.createElement(ze,{tab:"View Products",key:"2"},n.a.createElement(Ke,null)),n.a.createElement(ze,{tab:"Pending Approval Products",key:"3"})))}}]),a}(n.a.Component),Ue=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return n.a.createElement("div",null,"This is Dashboard")}}]),a}(n.a.Component),_e=a(63),We=a(92),Ye={loading:!0,categoryData:[],error:"",categoryInserted:!1,categoryInsertedResult:[],plaincategoryLoading:!0,plaincategoryData:[],plaincategoryError:""},Je=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ye,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GetCategoryRequest":return Object(R.a)(Object(R.a)({},e),{},{loading:!0});case"GetCategorySuccess":return Object(R.a)(Object(R.a)({},e),{},{loading:!1,categoryData:t.payload});case"GetCategoryFailure":return Object(R.a)(Object(R.a)({},e),{},{loading:!1,categoryData:[],error:t.payload});case"InsertCategorySuccess":return Object(R.a)(Object(R.a)({},e),{},{categoryInserted:!0,error:"",categoryInsertedResult:t.payload});case"InsertCategoryFailure":return Object(R.a)(Object(R.a)({},e),{},{categoryInserted:!1,error:t.payload});case"GetPlainCategoryRequest":return Object(R.a)(Object(R.a)({},e),{},{plaincategoryLoading:!0});case"GetPlainCategorySuccess":return Object(R.a)(Object(R.a)({},e),{},{plaincategoryLoading:!1,plaincategoryData:t.payload,plaincategoryError:""});case"GetPlainCategoryFailure":return Object(R.a)(Object(R.a)({},e),{},{plaincategoryLoading:!1,plaincategoryData:[],plaincategoryError:t.payload});default:return e}},Qe={suggestionsloading:!0,productSuggestionsData:[],productSuggestionError:"",insertProductLoading:!0,insertProductAdded:!1,insertProductSuccessMessage:"",insertProductErrorMessage:"",insertedProductData:{},inserImagesLoading:!0,insertImagesSuccess:"",insertImagesError:"",getProductsAdminLoading:!0,allProductsData:[],getProductsAdminError:"",totalProductCount:0,propsArr:[],singleProductLoading:!0,singleProductData:{},singleProductError:""},$e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GetProductSuggestionRequest":return Object(R.a)(Object(R.a)({},e),{},{suggestionsloading:!0});case"GetProductSuggestionSuccess":return Object(R.a)(Object(R.a)({},e),{},{suggestionsloading:!1,productSuggestionsData:t.payload,productSuggestionError:""});case"GetProductSuggestionFailure":return Object(R.a)(Object(R.a)({},e),{},{suggestionsloading:!1,productSuggestionsData:[],productSuggestionError:t.payload});case"AddProductRequest":return Object(R.a)(Object(R.a)({},e),{},{insertProductLoading:!0});case"AddProductSuccess":return Object(R.a)(Object(R.a)({},e),{},{insertProductLoading:!1,insertProductSuccessMessage:t.payload,insertProductErrorMessage:"",insertProductAdded:!0,insertedProductData:t.payload});case"AddProductFailure":return Object(R.a)(Object(R.a)({},e),{},{insertProductLoading:!1,insertProductSuccessMessage:"",insertProductErrorMessage:t.payload,insertProductAdded:!1});case"AddProductImagesRequest":return Object(R.a)(Object(R.a)({},e),{},{inserImagesLoading:!0});case"AddProductImagesSuccess":return Object(R.a)(Object(R.a)({},e),{},{inserImagesLoading:!1,insertImagesSuccess:t.payload,insertImagesError:""});case"AddProductImagesFailure":return Object(R.a)(Object(R.a)({},e),{},{inserImagesLoading:!1,insertImagesError:t.payload,insertImagesSuccess:""});case"GetProductsAdminRequest":return Object(R.a)(Object(R.a)({},e),{},{getProductsAdminLoading:!0});case"GetProductsAdminSuccess":return Object(R.a)(Object(R.a)({},e),{},{getProductsAdminLoading:!1,allProductsData:t.payload.products,getProductsAdminError:"",totalProductCount:t.payload.totalCount,propsArr:t.payload.propsArr});case"GetProductsAdminFailure":return Object(R.a)(Object(R.a)({},e),{},{getProductsAdminLoading:!1,getProductsAdminError:t.payload,allProductsData:[]});case"GetSingleProductRequest":return Object(R.a)(Object(R.a)({},e),{},{singleProductLoading:!0});case"GetSingleProductSuccess":return Object(R.a)(Object(R.a)({},e),{},{singleProductLoading:!1,singleProductData:t.payload,singleProductError:""});case"GetSingleProductFailure":return Object(R.a)(Object(R.a)({},e),{},{singleProductLoading:!1,singleProductData:[],singleProductError:t.payload});default:return e}},Xe={insertSellerLoading:!0,insertSellerAdded:!1,insertSellerSuccessMessage:"",insertSellerErrorMessage:""},Ze=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"AddSellerRequest":return Object(R.a)(Object(R.a)({},e),{},{insertSellerLoading:!0});case"AddSellerSuccess":return Object(R.a)(Object(R.a)({},e),{},{insertSellerLoading:!1,insertSellerSuccessMessage:t.payload,insertSellerErrorMessage:"",insertSellerAdded:!0});case"AddSellerFailure":return Object(R.a)(Object(R.a)({},e),{},{insertSellerLoading:!1,insertSellerSuccessMessage:"",insertSellerErrorMessage:t.payload,insertSellerAdded:!1});default:return e}},et=Object(We.combineReducers)({categories:Je,products:$e,seller:Ze}),tt=a(255),at=a(256),rt=Object(We.createStore)(et,Object(tt.composeWithDevTools)(Object(We.applyMiddleware)(at.a))),nt=function(){return n.a.createElement("div",null,n.a.createElement(N,null),n.a.createElement(b.b,{path:"/AdminHome",exact:!0,component:x}),n.a.createElement(b.b,{path:"/Seller",exact:!0,component:ie}),n.a.createElement(b.b,{path:"/Category",exact:!0,component:X}),n.a.createElement(b.b,{path:"/Products",exact:!0,component:He}),n.a.createElement(b.b,{path:"/DashBoardAdmin",exact:!0,component:Ue}))};var ot=function(){return n.a.createElement("div",{className:"App"},n.a.createElement(I.a,{history:Object(_e.a)()},n.a.createElement(J.a,{store:rt},n.a.createElement(b.d,null,n.a.createElement(b.b,{path:"/(login|signup|forgot-password|reset-password)",render:function(e){e.location;return n.a.createElement(b.d,null,n.a.createElement(b.b,{path:"/login",component:F}))}}),n.a.createElement(b.b,{path:"/",component:nt})))))};l.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(ot,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[260,1,2]]]);
//# sourceMappingURL=main.12fb196d.chunk.js.map